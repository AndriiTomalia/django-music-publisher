{% extends "admin/base_site.html" %}
{% block title %}{{ title }}{% endblock %}
{% block extrastyle %}
    {{ block.super }}
    <style>
      .cwr {overflow: auto; font-family: monospace;}
      .cwr pre {line-height: 1.3em; margin: 0; color: #333}

      .cwr div.HDR span.record_type,
      .cwr div.TRL span.record_type {color: #609; margin: 0 1em 0 0}
      .cwr div.GRH span.record_type,
      .cwr div.GRT span.record_type {color: #606; margin: 0 1em 0 0}
      .cwr div.WRK span.record_type,
      .cwr div.NWR span.record_type,
      .cwr div.REV span.record_type {color: #060; margin: 0 .7em 0 .3em}
      .cwr div.SPU span.record_type,
      .cwr div.OPU span.record_type {color: #900; margin: 0 .4em 0 .6em}
      .cwr div.SWR span.record_type,
      .cwr div.OWR span.record_type {color: #009; margin: 0 .4em 0 .6em}
      .cwr div.SPT span.record_type,
      .cwr div.OPT span.record_type {color: #933; margin: 0 .1em 0 .9em}
      .cwr div.SWT span.record_type,
      .cwr div.PWR span.record_type,
      .cwr div.OWT span.record_type {color: #33C; margin: 0 .1em 0 .9em}
      .cwr div.PER span.record_type {color: #069; margin: 0 .4em 0 .6em}
      .cwr div.OWK span.record_type {color: #060; margin: 0 .4em 0 .6em}
      .cwr div span.record_type {color: #666; margin: 0 .4em 0 .6em}
      .cwr div span.counters {color: #999;}
      .cwr div span.prshare {color: #069;}
      .cwr div span.mrshare {color: #609;}
      .cwr div span.srshare {color: #906;}
      span.title {color: #609}
      .cwr div.SWR span.ipnumber,
      .cwr div.SWT span.ipnumber,
      .cwr div.OWR span.ipnumber,
      .cwr div.OWT span.ipnumber,
      .cwr div.PWR span.ipnumber:last-of-type,
      .cwr div span.writer {color: #009;}
      .cwr div.SPU span.ipnumber,
      .cwr div.SPT span.ipnumber,
      .cwr div.OPU span.ipnumber,
      .cwr div.OPT span.ipnumber,
      .cwr div.PWR span.ipnumber,
      .cwr div span.publisher {color: #060;}
      .cwr div span.chain {color: #900;}
      .cwr div span.artist {color: #069;}
      .cwr div.WRK,
      .cwr div.NWR,
      .cwr div.REV,
      .cwr div.GRT {margin-top:0.4em}

    </style>

{% endblock %}
{% block content %}
<div class="module">
    <div class="readonly cwr">
        {% for line in lines %}{% with line|slice:'0:3' as rt %}
            {% if version == '30'  %}
                {% if rt == 'HDR' or rt == 'TRL' or rt == 'GRH' or rt == 'GRT' %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span>{{ line|slice:'3:' }}</pre></div>
                {% elif rt == 'WRK' %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span><span class="title" title="Work title">{{ line|slice:'19:79' }}</span>{{ line|slice:'79:' }}</pre></div>
                {% elif rt == 'SPU' or rt == 'OPU'%}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span><span class="chain" title="Publisher sequence">{{ line|slice:'19:21' }}</span><span class="ipnumber" title="IP number">{{ line|slice:'21:30' }}</span><span class="publisher" title="Publisher">{{ line|slice:'30:75' }}</span>{{ line|slice:'75:' }}</pre></div>
                {% elif rt == 'SWR' or rt == 'OWR'%}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span><span class="ipnumber" title="IP number">{{ line|slice:'19:28' }}</span><span class="writer" title="Writer">{{ line|slice:'28:103' }}</span>{{ line|slice:'103:' }}</pre></div>
                {% elif rt == 'SWT' or rt == 'OWT' or rt == 'SPT' or rt == 'OWT' %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:22' }}</span><span class="ipnumber" title="IP number">{{ line|slice:'22:31' }}</span><span class="prshare" title="Performance share">{{ line|slice:'31:36' }}</span><span class="mrshare" title="Mechanical share">{{ line|slice:'36:41' }}</span><span class="srshare" title="Sync share">{{ line|slice:'41:46' }}</span>{{ line|slice:'46:' }}</pre></div>
                {% elif rt == 'PWR'%}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span><span class="chain" title="Publisher sequence">{{ line|slice:'19:21' }}</span><span class="ipnumber" title="Publisher IP number">{{ line|slice:'21:30' }}</span><span class="ipnumber" title="Writer IP number">{{ line|slice:'30:39' }}</span>{{ line|slice:'39:' }}</pre></div>
                {% elif rt == 'ALT' %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span><span class="title" title="Alternative title">{{ line|slice:'19:79' }}</span>{{ line|slice:'79:' }}</pre></div>
                {% elif rt == 'OWK' %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span><span class="title" title="Original work title">{{ line|slice:'19:79' }}</span>{{ line|slice:'79:' }}</pre></div>
                {% elif rt == 'PER' %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span><span class="artist" title="Performing artist">{{ line|slice:'19:79' }}</span>{{ line|slice:'79:' }}</pre></div>
                {% elif rt == 'REC' %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span>{{ line|slice:'19:45' }}<span class="title" title="Recording title">{{ line|slice:'45:105' }}</span><span class="title" title="Version title">{{ line|slice:'105:165' }}</span><span class="artist" title="Recording artist">{{ line|slice:'165:225' }}</span>{{ line|slice:'225:' }}</pre></div>
                {% else %}
                    <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span><span class="counters">{{ line|slice:'3:19' }}</span>{{ line|slice:'19:' }}</pre></div>
                {% endif %}
            {% else %}
                <div class="{{ rt }}"><pre><span class="record_type">{{ rt }}</span>{{ line|slice:'3:' }}</pre></div>
            {% endif %}
        {% endwith %}{% endfor %}
    </div>
</div>
{% endblock %}

